@using BPSnake.Components.GamePageComponents
@using BPSnake.Models
@using BPSnake.Configuration

@page "/"

@switch (_engine.CurrentGameState) {
    case GameState.Menu:
        <StartMenuScreen 
            OnStartNewGame="@StartNewGame"/>
        break;
    case GameState.Playing:
    case GameState.Paused:
        <GameBoardScreen 
            Width="@_engine.CurrentGameBoard.Width"
            Height="@_engine.CurrentGameBoard.Height"
            CurrentGameState="@_engine.CurrentGameState" 
            CurrentGameScore="@_engine.CurrentGameScore"
            OnPauseGame="@PauseGame"
            OnResumeGame="@ResumeGame"
            CellClass="@GetCellClass"
            HandleKeyboardInput="@HandleInput"/>
        if (_showTouchControls) {
            <TouchControls 
                OnDirectionChange="@_engine.ChangeDirection"/>
        }
        break;
    case GameState.GameOver:
        <GameOverScreen 
            Score="@_engine.CurrentGameScore" 
            OnStartNewGame="@StartNewGame"/>
        break;
}